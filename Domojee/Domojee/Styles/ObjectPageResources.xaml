<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:converter="using:Domojee.Converters"
                    xmlns:ctl="using:Domojee.Controls"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:selector="using:Domojee.Selectors"
                    mc:Ignorable="d">
    <converter:EqLogicStateConverter x:Key="EqLogicStateConverter" />
    <converter:UpdatingConverter x:Key="UpdatingConverter" />
    <converter:EqLogicNotUpdatingConverter x:Key="EqLogicNotUpdatingConverter" />
    <converter:EqLogicState2BrushConverter x:Key="EqLogicState2BrushConverter" />
    <converter:EqLogicCmdInfoByNameConverter x:Key="EqLogicCmdInfoByNameConverter" />
    <converter:EqLogicCmdInfoByTypeConverter x:Key="EqLogicCmdInfoByTypeConverter" />
    <converter:ValueConverterGroup x:Key="GroupState2BrushConverter">
        <converter:EqLogicCmdInfoByTypeConverter />
        <converter:EqLogicState2BrushConverter />
    </converter:ValueConverterGroup>

    <DataTemplate x:Key="ObjectTemplate">
        <Grid CornerRadius="2"
              Holding="Grid_Holding"
              RightTapped="Grid_RightTapped">
            <FlyoutBase.AttachedFlyout>
                <MenuFlyout Placement="Bottom">
                    <MenuFlyoutItem Click="MenuFlyoutItem_Click"
                                    Tag="{Binding id}"
                                    Text="Modifier l'image" />
                    <MenuFlyoutItem Click="MenuFlyoutItem_Click_1"
                                    Tag="{Binding id}"
                                    Text="Réinitialiser l'image" />
                    <MenuFlyoutItem Click="MenuFlyoutItem_Click_Epingler"
                                    Tag="{Binding id}"
                                    Text="Epingler" />
                </MenuFlyout>
            </FlyoutBase.AttachedFlyout>

            <Image Width="300"
                   Height="108"
                   Source="{Binding Image}"
                   Stretch="UniformToFill" />
            <Rectangle Width="300"
                       Height="48"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Bottom"
                       Fill="{StaticResource BlueBase}"
                       Opacity="0.8" />
            <StackPanel VerticalAlignment="Bottom">
                <TextBlock x:Name="txtName"
                           HorizontalAlignment="Center"
                           FontSize="18"
                           FontWeight="Bold"
                           Text="{Binding Name,
                                          FallbackValue=Name}"
                           TextTrimming="CharacterEllipsis"
                           TextWrapping="Wrap" />
                <TextBlock x:Name="txtCount"
                           Margin="0,0,5,5"
                           HorizontalAlignment="Right"
                           FontSize="10"
                           Text="{Binding Count,
                                          FallbackValue=0}" />
            </StackPanel>
        </Grid>
    </DataTemplate>
 
    <DataTemplate x:Key="ObjectHeaderTemplate">
        <TextBlock Text="{Binding name}" />
    </DataTemplate>

    <DataTemplate x:Key="ObjectPageTemplate">
        <Grid>
            <ctl:VariableSizedGridView x:Name="eqlogicview"
                                       IsItemClickEnabled="True"
                                       ItemTemplateSelector="{StaticResource EqLogicTemplateSelector}"
                                       ItemsSource="{Binding eqLogics}"
                                       Padding="15"
                                       SelectionMode="None">
                <GridView.ItemContainerStyle>
                    <Style TargetType="GridViewItem">
                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                        <Setter Property="VerticalContentAlignment" Value="Stretch" />
                    </Style>
                </GridView.ItemContainerStyle>
                <ctl:VariableSizedGridView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <VariableSizedWrapGrid 
                                               MaximumRowsOrColumns="5"
                                               Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </ctl:VariableSizedGridView.ItemsPanel>
            </ctl:VariableSizedGridView>
        </Grid>
    </DataTemplate>
</ResourceDictionary>